import{a7 as k,A as _,Q as T,M as H,H as F,o,c as s,a as g,u as n,w as N,F as b,a8 as y,Z as I,b as e,f as L,g as v,v as w,r as h,i as E,t as r,p as q,O as V}from"./app-C1cEn8np.js";import{_ as P}from"./AuthenticatedLayout.vue_vue_type_script_setup_true_lang-BlpCSxh_.js";import"./ApplicationLogo-jVUVA2-u.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./ResponsiveNavLink.vue_vue_type_script_setup_true_lang-D4AzNpxN.js";const Q=e("h2",{class:"font-semibold text-xl text-gray-800 leading-tight"}," Dashboard ",-1),R={class:"py-8"},W={class:"max-w-7xl mx-auto sm:px-6 lg:px-8"},Y={class:"bg-white overflow-hidden shadow-sm sm:rounded-lg py-2"},Z={class:"form-group flex-col grid grid-cols-1 pb-2 gap-x-6 gap-y-8 sm:grid-cols-6"},j={class:"sm:col-span-3 px-3 order-1 sm:order-1"},z=e("label",{for:"kabupaten",class:"block mb-2 text-sm font-medium text-gray-900 dark:text-white"},"KABUPATEN",-1),G=["value"],J={class:"sm:col-span-3 px-3 order-2 sm:order-3"},X=e("label",{for:"kecamatan",class:"block mb-2 text-sm font-medium text-gray-900 dark:text-white"},"KECAMATAN",-1),ee=["value"],te={class:"sm:col-span-3 px-3 order-3 sm:order-2"},ae=e("label",{for:"desa",class:"block mb-2 text-sm font-medium text-gray-900 dark:text-white"},"DESA",-1),oe=["value"],se=e("div",{class:"sm:col-span-3 px-3 order-4 sm:order-4"},null,-1),re={class:"sm:col-span-3 px-3 order-5 sm:order-5"},ne=["disabled"],de=["disabled"],le={class:"relative mt-3 overflow-x-auto"},ie={key:0},ce={class:"w-full text-sm text-left rtl:text-right text-gray-500 dark:text-gray-400"},ue=e("thead",{class:"text-xs text-gray-700 uppercase bg-gray-300 dark:bg-gray-700 dark:text-gray-400"},[e("tr",null,[e("th",{scope:"col",class:"px-6 py-3"},"No."),e("th",{scope:"col",class:"px-6 py-3"}," Nama Usaha "),e("th",{scope:"col",class:"px-6 py-3"}," Nama Komersial "),e("th",{scope:"col",class:"px-6 py-3"}," Status Dokumen "),e("th",{scope:"col",class:"px-6 py-3"}," Status Submit "),e("th",{scope:"col",class:"px-6 py-3"}," Terakhir diupdate "),e("th",{scope:"col",class:"px-6 py-3"},"Edit"),e("th",{scope:"col",class:"px-6 py-3"},"Hapus")])],-1),pe={key:0},ge=e("td",{colspan:"8",scope:"row",class:"px-6 text-center py-4 font-medium text-gray-900 whitespace-nowrap dark:text-white"}," Data tidak tersedia ",-1),me=[ge],be={scope:"row",class:"px-6 py-4 font-medium text-gray-900 whitespace-nowrap dark:text-white"},ke={class:"px-6 py-4"},_e={class:"px-6 py-4"},he={class:"px-6 py-4"},fe={class:"px-6 py-4"},xe={key:0},ye={key:1},ve={class:"px-6 py-4"},we={class:"px-6 py-4"},Ce=["onClick","disabled"],Se={class:"px-6 py-4"},$e=["onClick","disabled"],Me={__name:"Index",setup(Ae){const l=k({kabupaten:null,kecamatan:null,desa:null,region_id:null},"form-data"),C=k([],"kecamatans"),S=k([],"desas"),$=k([],"kabupatens"),u=_({get:()=>l.value.kabupaten,set:a=>l.value.kabupaten=a}),m=_({get:()=>l.value.kecamatan,set:a=>l.value.kecamatan=a}),i=_({get:()=>l.value.desa,set:a=>l.value.desa=a}),f=_(()=>`71${u.value}${m.value}${i.value}`),d=T(),B=async(a,c)=>{if(confirm("Apakah anda yakin menghapus entrian ini?"))try{const p=await y.delete(route("form.destroy",{response:c}));V.get(route("form.index",{region_id:a}),{},{preserveState:!0,preserveScroll:!0,only:["data","region"]})}catch{console.error("error request for delete data!")}},A=async()=>{try{const a=await y.get(`/kecamatan/${u.value}`);C.value=a.data.kecamatan}catch(a){console.error("Error fetching kecamatan:",a)}},D=async()=>{try{l.value.desa=null,l.value.blok=null;const a=await y.get(`/desa/${u.value}/${m.value}`);S.value=a.data.desa}catch(a){console.error("Error fetching desa:",a)}};function x(){V.visit(`/form/${f.value}`,{preserveState:!0,preserveScroll:!0,only:["data","region"]})}function M(){window.open(`/form/create/${f.value}`,"_blank")}function U(a){route().params,window.open(route("form.edit",{region_id:"7106020020",id:a}),"_blank")}return H(()=>{let a=d.props.region;$.value=d.props.kabupatens,a&&(u.value=a.kabupaten,A(),m.value=a.kecamatan,D(),i.value=a.desa)}),(a,c)=>{const p=F("font-awesome-icon");return o(),s(b,null,[g(n(I),{title:"Dashboard"}),g(P,null,{header:N(()=>[Q]),default:N(()=>[e("div",R,[e("div",W,[e("div",Y,[e("form",{onSubmit:L(x,["prevent"])},[e("div",Z,[e("div",j,[z,v(e("select",{"onUpdate:modelValue":c[0]||(c[0]=t=>u.value=t),name:"kabupaten",onChange:A,class:"form-control sm:col-span-3 bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg w-full focus:ring-blue-500 focus:border-blue-500 block p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500",id:"kabupatens"},[(o(!0),s(b,null,h(n($),t=>(o(),s("option",{value:t.id,key:t.id},r(t.nama),9,G))),128))],544),[[w,u.value]])]),e("div",J,[X,v(e("select",{"onUpdate:modelValue":c[1]||(c[1]=t=>m.value=t),name:"kecamatan",onChange:D,class:"form-control sm:col-span-3 bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg w-full focus:ring-blue-500 focus:border-blue-500 block p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500",id:"kecamatans"},[(o(!0),s(b,null,h(n(C),t=>(o(),s("option",{value:t.id,key:t.id},r(t.nama),9,ee))),128))],544),[[w,m.value]])]),e("div",te,[ae,v(e("select",{"onUpdate:modelValue":c[2]||(c[2]=t=>i.value=t),name:"desa",onChange:x,class:"form-control sm:col-span-3 bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg w-full focus:ring-blue-500 focus:border-blue-500 block p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500",id:"desas"},[(o(!0),s(b,null,h(n(S),t=>(o(),s("option",{value:t.id,key:t.id},r(t.nama),9,oe))),128))],544),[[w,i.value]])]),se,e("div",re,[e("button",{type:"button",onClick:x,disabled:!i.value,class:"disabled:bg-gray-200 focus:outline-none text-white bg-blue-700 hover:bg-blue-800 focus:ring-4 focus:ring-green-300 font-medium rounded-lg text-sm px-5 py-2.5 me-2 mb-2 dark:bg-green-600 dark:hover:bg-green-700 dark:focus:ring-green-800"},[g(p,{icon:"fa-solid fa-rotate",class:"mr-2"}),E(" Reload Data ")],8,ne),e("button",{type:"button",onClick:M,disabled:!i.value,class:"disabled:bg-gray-200 focus:outline-none text-white bg-green-700 hover:bg-green-800 focus:ring-4 focus:ring-green-300 font-medium rounded-lg text-sm px-5 py-2.5 me-2 mb-2 dark:bg-green-600 dark:hover:bg-green-700 dark:focus:ring-green-800"},[g(p,{icon:"fa-solid fa-plus",class:"mr-2"}),E("Entri Baru ")],8,de)])])],32)]),e("div",le,[n(d).props.region!=null?(o(),s("div",ie,[e("p",null," WILAYAH: ["+r(n(d).props.region.provinsi)+r(n(d).props.region.kabupaten)+r(n(d).props.region.kecamatan)+r(n(d).props.region.desa)+"] ",1)])):q("",!0),e("table",ce,[ue,e("tbody",null,[n(d).props.data==""?(o(),s("tr",pe,me)):(o(!0),s(b,{key:1},h(n(d).props.data,(t,K)=>(o(),s("tr",{key:t.id,class:"bg-white border-b dark:bg-gray-800 dark:border-gray-700"},[e("th",be,r(K+1),1),e("td",ke,r(t.nama_usaha),1),e("td",_e,r(t.nama_komersial),1),e("td",he,r(t.docState),1),e("td",fe,[t.submit_status=="1"?(o(),s("div",xe," Submitted ")):(o(),s("div",ye,"Open"))]),e("td",ve,r(t.updated_at),1),e("td",we,[e("button",{onClick:O=>U(t.id),type:"button",disabled:!i.value,class:"disabled:bg-gray-200 focus:outline-none text-xs font-medium text-white bg-green-700 hover:bg-green-800 focus:ring-4 focus:ring-green-300 font-medium rounded-lg text-sm px-3 py-2 me-2 mb-2 dark:bg-green-600 dark:hover:bg-green-700 dark:focus:ring-green-800"},[g(p,{icon:"fa-solid fa-pencil"})],8,Ce)]),e("td",Se,[e("button",{onClick:O=>B(f.value,t.id),type:"button",disabled:!i.value,class:"disabled:bg-gray-200 focus:outline-none text-xs font-medium text-white bg-red-700 hover:bg-red-800 focus:ring-4 focus:ring-red-300 font-medium rounded-lg text-sm px-3 py-2 me-2 mb-2 dark:bg-red-600 dark:hover:bg-red-700 dark:focus:ring-red-900"},[g(p,{icon:"fa-solid fa-minus"})],8,$e)])]))),128))])])])])])]),_:1})],64)}}};export{Me as default};
